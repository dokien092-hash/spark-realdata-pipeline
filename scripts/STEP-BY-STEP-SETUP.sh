#!/bin/bash
# ============================================================
# HÆ¯á»šNG DáºªN Tá»ªNG BÆ¯á»šC SETUP Dá»° ÃN Tá»° Äá»˜NG CHáº Y LÃšC 7H SÃNG
# ============================================================

echo "ğŸ“‹ HÆ¯á»šNG DáºªN SETUP Tá»ªNG BÆ¯á»šC"
echo "=========================================="
echo ""
echo "BÆ¯á»šC 1: TrÃªn Mac terminal, upload scripts lÃªn EC2"
echo "--------------------------------------------"
echo "cd /Users/kiendo/Downloads/Cole-mini-projects-develop/spark-mini-projects/spark-realdata-pipeline"
echo ""
echo "scp -i ~/Downloads/financial-pipeline-key.pem \\"
echo "    scripts/setup-auto-run-complete.sh \\"
echo "    ec2-user@3.25.91.76:~/spark-realdata-pipeline/scripts/"
echo ""
read -p "âœ… ÄÃ£ upload xong? Nháº¥n Enter Ä‘á»ƒ tiáº¿p tá»¥c..."
echo ""

echo "BÆ¯á»šC 2: SSH vÃ o EC2"
echo "--------------------------------------------"
echo "ssh -i ~/Downloads/financial-pipeline-key.pem ec2-user@3.25.91.76"
echo ""
read -p "âœ… ÄÃ£ SSH vÃ o EC2? Nháº¥n Enter Ä‘á»ƒ tiáº¿p tá»¥c..."
echo ""

echo "BÆ¯á»šC 3: TrÃªn EC2 terminal, cháº¡y cÃ¡c lá»‡nh sau:"
echo "--------------------------------------------"
echo "cd ~/spark-realdata-pipeline"
echo "chmod +x scripts/setup-auto-run-complete.sh"
echo "bash scripts/setup-auto-run-complete.sh"
echo ""
echo "Script sáº½ tá»± Ä‘á»™ng:"
echo "  âœ“ Táº¡o .env file vá»›i API keys"
echo "  âœ“ Khá»Ÿi Ä‘á»™ng Docker containers"
echo "  âœ“ Init Airflow database"
echo "  âœ“ Setup auto-start service"
echo "  âœ“ Unpause DAG Ä‘á»ƒ tá»± cháº¡y"
echo ""
read -p "âœ… ÄÃ£ cháº¡y script xong? Nháº¥n Enter Ä‘á»ƒ tiáº¿p tá»¥c..."
echo ""

echo "BÆ¯á»šC 4: Kiá»ƒm tra káº¿t quáº£"
echo "--------------------------------------------"
echo "bash scripts/check-auto-run-ec2.sh"
echo ""
echo "Kiá»ƒm tra xem:"
echo "  âœ“ Containers Ä‘ang cháº¡y"
echo "  âœ“ Auto-start service ENABLED"
echo "  âœ“ DAG schedule Ä‘Ãºng (0:00 UTC = 7:00 AM VN)"
echo "  âœ“ DAG khÃ´ng bá»‹ PAUSED"
echo ""
read -p "âœ… ÄÃ£ kiá»ƒm tra xong? Nháº¥n Enter Ä‘á»ƒ xem tÃ³m táº¯t..."
echo ""

echo "âœ… HOÃ€N Táº¤T!"
echo "=========================================="
echo ""
echo "Dá»± Ã¡n sáº½ tá»± Ä‘á»™ng cháº¡y:"
echo "  â° LÃºc: 7:00 AM (Viá»‡t Nam)"
echo "  ğŸ“… NgÃ y: Thá»© 2 - Thá»© 6 (Mon-Fri)"
echo "  ğŸ”„ KhÃ´ng cáº§n má»Ÿ mÃ¡y tÃ­nh"
echo ""
echo "ğŸŒ Truy cáº­p Airflow UI Ä‘á»ƒ monitor:"
echo "   http://3.25.91.76:8081"
echo "   Username: admin"
echo "   Password: admin"
echo ""




